(this["webpackJsonperuditeme-quiz"]=this["webpackJsonperuditeme-quiz"]||[]).push([[0],{26:function(e,t,n){e.exports=n(51)},31:function(e,t,n){},32:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"addTodo",(function(){return y})),n.d(a,"completeToDo",(function(){return w})),n.d(a,"joinGame",(function(){return j})),n.d(a,"fetchToDos",(function(){return C}));var r=n(1),o=n.n(r),c=n(17),i=n.n(c),u=(n(31),n(32),n(10)),l=n(11),s=n(13),m=n(12),d=n(6),p=n(21),f=n.n(p),h=n(5),v=n.n(h),b=n(15),g=n(22);g.initializeApp({apiKey:"AIzaSyBXBvxMBD9pJQQmnyml7vqAaN02Mb-cN-A",authDomain:"erudite-me.firebaseapp.com",databaseURL:"https://erudite-me.firebaseio.com",projectId:"erudite-me",storageBucket:"erudite-me.appspot.com",messagingSenderId:"452722543024",appId:"1:452722543024:web:3771b75e393a5eff596e75",measurementId:"G-50XQV0RK8T"});var E=g.database().ref().child("quiz"),y=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.push().set(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.child(e).remove();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E.child(e).remove();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(){return function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.on("value",(function(e){t({type:"FETCH_TODOS",payload:e.val()})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).completeClick=function(t){(0,e.props.completeToDo)(t)},e.joinGameClick=function(t){(0,e.props.joinGame)(t)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.gameCode,a=t.game;return o.a.createElement("div",{key:"gameCode",className:"col s10 offset-s1 to-do-list-item black"},o.a.createElement("h4",null,a.title,o.a.createElement("span",{className:"complete-todo-item waves-effect waves-light blue lighten-5 blue-text text-darken-4 btn"},o.a.createElement("button",{onClick:function(){return e.joinGameClick(n)},className:"large button material-icons"},"Join Game"),o.a.createElement("button",{onClick:function(){return e.completeClick(n)},className:"large button material-icons delete-button"},"Delete Game"))))}}]),n}(r.Component),O=Object(d.b)(null,{completeToDo:w,joinGame:j})(k),I=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showForm:!1,formValue:"",username:"",sessionId:""},e.inputChange=function(t){e.setState({formValue:t.target.value})},e.loginChange=function(t){e.setState({username:t.target.value})},e.formSubmit=function(t){var n=e.state.formValue,a=e.props.addTodo;t.preventDefault(),a({title:n}),e.setState({formValue:""})},e.loginFormSubmit=function(t){t.preventDefault(),e.setState({sessionId:Math.round(1e6*Math.random())})},e.renderLoginForm=function(){var t=e.state,n=t.username;if(!t.sessionId)return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:e.loginFormSubmit},o.a.createElement("div",null,o.a.createElement("span",null,"Your Username: "),o.a.createElement("input",{className:"input",value:n,onChange:e.loginChange,id:"username",type:"text"}),o.a.createElement("label",{htmlFor:"username"}),o.a.createElement("button",{className:"button",type:"submit"},"Login"))))},e.renderForm=function(){var t=e.state,n=t.showForm,a=t.formValue;if(n)return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:e.formSubmit},o.a.createElement("div",null,o.a.createElement("span",null,"New game ID: "),o.a.createElement("input",{className:"input",value:a,onChange:e.inputChange,id:"gameId",type:"text"}),o.a.createElement("label",{htmlFor:"gameId"}),o.a.createElement("button",{className:"button",type:"submit"},"Create"))))},e}return Object(l.a)(n,[{key:"renderNewGame",value:function(){var e=this.props.data,t=f.a.map(e,(function(e,t){return o.a.createElement(O,{key:t,gameCode:t,game:e})}));return f.a.isEmpty(t)?o.a.createElement("div",null,o.a.createElement("h4",null,"There are no current game rooms. Please create a new Game room")):t}},{key:"componentWillMount",value:function(){this.props.fetchToDos()}},{key:"render",value:function(){var e=this,t=this.state,n=t.showForm,a=t.username;return t.sessionId&&a?o.a.createElement("div",null,o.a.createElement("div",null,this.renderForm(),this.renderNewGame()),o.a.createElement("div",null,o.a.createElement("button",{className:"button",onClick:function(){return e.setState({showForm:!n})}},n?o.a.createElement("i",null,"Cancel"):o.a.createElement("i",null,"Create new Game")))):o.a.createElement("div",null,this.renderLoginForm())}}]),n}(r.Component),S=Object(d.b)((function(e){return{data:e.data}}),a)(I),G=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={gameId:"",code:"",name:"",loading:!1,errors:[]},e.handleSubmit=function(t){t.preventDefault();fetch("https://us-central1-erudite-me.cloudfunctions.net/joinGame?code=5U6U8K&name=nameofplayer",{method:"GET",headers:{"Content-Type":"application/json"},mode:"no-cors"}).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,gameId:t.gameId,sessionId:t.sesionId}),e.props.history.push("/")})).catch((function(t){console.log(t),e.setState({errors:t,loading:!1})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.gameId,n=e.code,a=this.state;a.errors,a.loading;return o.a.createElement("div",null,o.a.createElement("div",null,"Game ID: ",t),o.a.createElement("div",null,"Game Code: ",n),o.a.createElement("button",{onClick:this.handleSubmit}))}}]),n}(r.Component),D=Object(d.b)()(G);var N=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",null,o.a.createElement(S,null),o.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(9),F=n(25),x=Object(T.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODOS":return t.payload;default:return e}}}),A=Object(T.d)(x,{},Object(T.a)(F.a));i.a.render(o.a.createElement(d.a,{store:A},o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.58771bb6.chunk.js.map